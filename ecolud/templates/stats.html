<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ECOLUD – Avec mes amis</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='ecolud/css/style.css') }}">
  </head>
  <body class="stats-page">
    <header class="top-bar fade-in">
      <span class="badge">Avec mes amis</span>
      <h1>Statistiques sociales en direct</h1>
    </header>

    <main class="layout layout--stats">
      <section class="stats-counters" id="stats-counters">
        <article class="counter-card">
          <h2>Missions aujourd’hui</h2>
          <span class="counter-value" data-key="missions_today">0</span>
        </article>
        <article class="counter-card">
          <h2>CO₂ économisé (kg)</h2>
          <span class="counter-value" data-key="co2_saved">0</span>
        </article>
        <article class="counter-card">
          <h2>Joueurs actifs</h2>
          <span class="counter-value" data-key="active_players">0</span>
        </article>
      </section>

      <section class="stats-panels">
        <article class="panel panel--table">
          <h2>Classement des équipes</h2>
          <table id="team-leaderboard">
            <thead>
              <tr><th>Équipe</th><th>Points</th></tr>
            </thead>
            <tbody></tbody>
          </table>
        </article>
        <article class="panel panel--table">
          <h2>Classement hebdomadaire</h2>
          <table id="player-leaderboard">
            <thead>
              <tr><th>Joueur</th><th>Équipe</th><th>Points</th></tr>
            </thead>
            <tbody></tbody>
          </table>
        </article>
        <article class="panel panel--chart">
          <h2>Avatars les plus utilisés</h2>
          <div id="avatar-usage"></div>
        </article>
      </section>
    </main>

    <script src="https://cdn.socket.io/4.7.4/socket.io.min.js"></script>
    <script src="{{ url_for('static', filename='ecolud/js/stats.js') }}"></script>
  </body>
</html>
